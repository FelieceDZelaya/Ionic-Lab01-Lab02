{"version":3,"sources":["../../src/pages/withdrawal/withdrawal.module.ts","../../src/pages/withdrawal/withdrawal.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { WithdrawalPage } from './withdrawal';\n\n@NgModule({\n  declarations: [\n    WithdrawalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(WithdrawalPage),\n  ],\n})\nexport class WithdrawalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/withdrawal/withdrawal.module.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController} from 'ionic-angular';\nimport { FormGroup, FormControl, Validator, Validators } from '@angular/forms';\nimport { AtmserviceProvider } from '../../providers/atmservice/atmservice';\nimport { AtmResponseOperation,AtmResponseOperationBalance } from '../../models/atm.interface';\n\n@IonicPage()\n@Component({\n  selector: 'page-withdrawal',\n  templateUrl: 'withdrawal.html',\n})\nexport class WithdrawalPage implements OnInit{\n\n  public withdrawalForm : FormGroup;\n  accNum : string = '';\n  amount : number = 0;\n\n  public currentBalance     : number = 0;\n  public atmResponse        : AtmResponseOperation = <AtmResponseOperation>{}; \n  public atmResponseBalance : AtmResponseOperationBalance = <AtmResponseOperationBalance>{};\n\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams, \n    public atmService : AtmserviceProvider,\n    public toastCtrl: ToastController) {\n      this.accNum = navParams.get(\"acc\");\n  }\n\n  ngOnInit() {\n\n    this.withdrawalForm = new FormGroup({\n          amount : new FormControl(0,Validators.required)\n    });\n     \n  }\n\n  ionViewWillEnter() { \n    this.atmService.getCurrentBalance(this.atmService.accountNumber).subscribe(resp => {\n      this.currentBalance = resp.currentBalance;\n      this.atmService.accountName = resp.accountName;\n    });\n  }\n\n  doWithdrawal(theForm:FormGroup) {\n\n    this.amount =  theForm.value.amount;\n    if(this.amount < this.currentBalance){\n      this.makeAWithdraw(this.atmService.getAccountNumber(),this.amount);  \n      this.navCtrl.pop(); \n    }else{\n      let toast = this.toastCtrl.create({ message: 'Amount exceeds available balance', duration: 3000 });\n      toast.present();\n    }\n\n  }\n\n  makeAWithdraw(acct:string,amount:number) {\n\n    this.atmService.withDraw(acct,amount).then( result => {\n            this.atmResponse = result;\n            this.currentBalance = result.currentBalance;\n\n  });  \n}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad WithdrawalPage');\n  }\n\n  dismissThis() {\n    this.navCtrl.pop();\n  } \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/withdrawal/withdrawal.ts"],"sourceRoot":""}